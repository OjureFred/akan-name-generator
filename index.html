<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
  <!--<![endif]-->
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title></title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="css/bootstrap.css" />
  </head>
  <body>
    <div class="jumbotron jumbotron-fliud">
      <img src="images/Akan-people.jpg" height="250" width="250" />
      <h1 class="display-4 text-center">Ghana Akan Tribe Name Generator</h1>
      <p class="lead text-center">
        Ghana Akan Tribe names are derived from the day of the week and ones
        gender.
      </p>
      <hr class="my-4" />
      <p>
        This Javascript application requests for input of birthday and gender
        and generates the name for the user.
      </p>
      <a class="btn btn-primary btn-lg" href="#" role="button">Have some fun</a>
    </div>
    <br />
    <br />

    <div class="input-group input-group-lg">
      <div class="input-group-prepend">
        <span class="input-group-text" id="inputGroup-sizing-lg"
          >Please enter your date of birth</span
        >
      </div>
      <input
        type="text"
        id="age-input"
        placeholder="Please use the format DD/MM/YYYY"
        class="form-control"
        aria-label="Sizing example input"
        aria-describedby="inputGroup-sizing-lg"
      />
      <small class="text-danger" id="dateError"></small>
    </div>
    <br />
    <br />
    <div class="input-group input-group-lg">
      <div class="input-group-prepend">
        <span class="input-group-text" id="inputGroup-sizing-lg"
          >Male or Female</span
        >
      </div>
      <input
        type="text"
        id="gender-input"
        class="form-control"
        placeholder="Male or Female"
        aria-label="Sizing example input"
        aria-describedby="inputGroup-sizing-lg"
      />
      <small class="text-danger" id="genderError"></small>
    </div>
    <br />
    <br />
    <button
      id="submit"
      class="btn btn-primary btn-lg btn-block"
      onclick="getValues()"
    >
      Generate the name
    </button>
    <br />
    <p id="display-date"></p>
    <p id="display-gender"></p>
    <!---<script src="js/generateAge.js" async defer></script>-->
    <script>
      function getValues() {
        //get values from the web page
        var date = document.getElementById("age-input").value;
        var gender = document.getElementById("gender-input").value;

        //split the date vale
        var dateArr = date.split("/");
        var dd = dateArr[0];
        var mm = dateArr[1];
        var yy = dateArr[2];

        //validate Day
        var dateErrorResponse = document.getElementById("dateError");
        var dateErrMsg = "Invalid Date";

        if (dd < 0 || dd > 31) {
          alert("invalid date");
        }
        if (mm < 0 || mm > 12) {
          alert("invalid date");
        }
        if (yy > 2020) {
          alert("future date");
        }

        //extract century and year
        var dyy = yy % 100;
        var cc = Math.trunc(yy / 100);

        //calculate day of week - Day of the week (d) = ( ( (CC/4) -2*CC-1) + ((5*YY/4) ) + ((26*(MM+1)/10)) + DD ) mod 7
        var dow = Math.floor(
          (cc / 4 - 2 * cc - 1 + (5 * dyy) / 4 + (26 * (mm + 1)) / 10 + dd) % 7
        );

        //validate gender
        var lcGender = gender.toLowerCase();
        if (lcGender != "male" && lcGender != "female") {
          alert("invalid gender");
        }

        //Generate name
        var maleNames = ["Kwasi","Kwadwo", "Kwabena", "Kwaku", "Yaw", "Kofi", "Kwame"];
        var femaleNames = ["Akoswa", "Adwoa", "Abenaa", "Akua", "Yaa", "Afua", "Ama"];

        var genName = akanName(lcGender, dow);

        function akanName(subjectGender, dayOfWeek) {
          if (subjectGender === "male") {
            return maleNames[dow];
          } else {
            return femaleNames[dow];
          }
        };

        //display values in <p> elements
        var dateDisplay = document.getElementById("display-date");
        var genderDisplay = document.getElementById("display-gender");
        dateDisplay.innerHTML = dd + " " + mm + " " + yy + " " + dyy + " " + cc + " " + dow + " " + genName;
        genderDisplay.innerHTML = lcGender;
      }
    </script>
  </body>
</html>
